<% unless @overdue.empty? %>
  <div class="overdue section">
    <h2>Overdue<h2>
      <ul>
      <% @overdue.each do |t| %>
        <li class="task">
          <div class="task-wrapper">
            <div class="title-date-wrapper">
              <p class="title"><%= link_to t.title, task_path(t) %></p>
              <p class="date"><%= t.due.strftime(format='%-m/%-d/%C') %></p>
            </div>
          </div>
        </li>
      <% end %>
      </ul>
  </div>
<% end %>

<div class="today section">
  <h2>Today<h2>
  <h3>due<h3>
  <% unless @today_due.empty? %>
    <ul>
    <% @today_due.each do |t| %>
      <li class="task">
        <div class="task-wrapper">
          <div class="title-date-wrapper">
            <p class="title"><%= link_to t.title, task_path(t) %></p>
          </div>
        </div>
      </li>
    <% end %>
    </ul>
  <% else %>
    <p>No tasks due today!</p>
  <% end %>
  <h3>work<h3>
  <% unless @today_work.empty? %>
    <ul>
    <%= collection_check_boxes(:task, :complete, @today_work, :id, :title) do |b| %>
      <li> 
        <div class="task-wrapper">
          <%= b.check_box %>
          <div class="title-date-wrapper">
            <p class="title">
              <%= link_to b.label, task_path(b.object) %>
            </p>
            <% if b.object.start.nil?%>
              <p class="date"><%= b.object.due.strftime(format='%-m/%-d/%C') %></p>
            <% else %>
              <p class="date"><%= b.object.start.strftime(format='%-m/%-d/%C') %> - <%= b.object.due.strftime(format='%-m/%-d/%C') %></p>
            <% end %>
          </div>
        </div>
      </li>
    <% end %>

    <!--
    <ul>
    <% @today_work.each do |t| %>
      <%# <li class="task">
        <div class="task-wrapper">
          <%= check_box_tag %>
          <div class="title-date-wrapper">
            <p class="title"><%= link_to t.title, task_path(t) %></p>
          </div>
        </div>
      </li> -->
    <% end %>
    </ul>
  <% else %>
    <p>No tasks to work on today!</p>
  <% end %>
</div>

<div class="upcoming section">
  <h2>Upcoming<h2>
  <% unless @upcoming.empty? %>
      <ul>
      <% @upcoming.each do |t| %>
        <li class="task">
          <div class="task-wrapper">
            <div class="title-date-wrapper">
            <p class="title"><%= link_to t.title, task_path(t) %></p>
            <% if t.start.nil?%>
              <p class="date"><%= t.due.strftime(format='%-m/%-d/%C') %></p>
            <% else %>
              <p class="date"><%= t.start.strftime(format='%-m/%-d/%C') %> - <%= t.due.strftime(format='%-m/%-d/%C') %></p>
            <% end %>
            </div>
          </div>
        </li>
      <% end %>
      </ul>
  <% else %>
    <p>No upcoming tasks!</p>
  <% end %>
 </div>
