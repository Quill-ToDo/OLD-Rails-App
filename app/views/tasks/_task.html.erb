<% 
# Set defaults
local = false
%>

<div class="task-wrapper">
    <div class="check-box-wrapper"> 
        <% if local_assigns[:task].complete%>
            <input type="checkbox" data-task-id="<%=local_assigns[:task].id%>" aria-labelledby="<%=local_assigns[:task].title%>" checked>
        <% else %>
            <input type="checkbox" data-task-id="<%=local_assigns[:task].id%>" aria-labelledby="<%=local_assigns[:task].title%>">
        <% end %>
        <% if local_assigns[:type] == :due %>
            <span class="checkmark"></span>
        <% else %>
            <span class="checkmark round"></span>
        <% end %>
    </div>
    <div class="title-date-wrapper">
        <% if local_assigns[:task].complete %>
            <p class="title <%= local_assigns[:title_classes] %>"><%= link_to local_assigns[:task].title, task_path(local_assigns[:task]), local: local, "data-task-id" => local_assigns[:task].id, complete: "" %></p>
        <% else %>
            <p class="title <%= local_assigns[:title_classes] %>"><%= link_to local_assigns[:task].title, task_path(local_assigns[:task]), local: local, "data-task-id" => local_assigns[:task].id %></p>
        <% end %>
        
        <p class="date"><%= local_assigns[:task].due.strftime(format='%-m/%-d/%y') %></p>
    </div>
</div>